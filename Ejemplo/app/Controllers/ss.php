<?php
public function update($id = NULL)    {       
     $movie = new MovieModel();        $category = new CategoryModel();        $data = $this->request->getRawInput();        if ($this->validate('movies')) {            if (!$data['category_id'])                return $this->genericResponse(NULL, array("category_id" => "Categoría no existe"), 500);            if (!$movie->get($id)) {                return $this->genericResponse(NULL, array("movie_id" => "Película no existe"), 500);            }            if (!$category->get($data['category_id'])) {                return $this->genericResponse(NULL, array("category_id" => "Categoría no existe"), 500);            }            $movie->update($id, [                'title' => $data['title'],                'description' => $data['description'],                'category_id' => $data['category_id'],            ]);            return $this->genericResponse($this->model->find($id), NULL, 200);        }